server {
    listen 80;
   
    root /data/www/;
    index index.html index.htm index.nginx-debian.html index.php;
	
	error_page 404 /custom_404.html;
	error_page 403 /custom_404.html;
	
    location = /custom_404.html {
        root /usr/share/nginx/html;
        internal;
    }
	

	location / {
        try_files $uri $uri/ /index.php?$query_string;
    }
	
    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/run/php/php7.3-fpm.sock;
    }	
	
	location /cgi-bin/ {
	    gzip off;
	    root  /data/www/cgi-bin;
	    fastcgi_pass  unix:/var/run/fcgiwrap.socket;
	    include /etc/nginx/fastcgi_params;
	    fastcgi_param SCRIPT_FILENAME  /data/www/$fastcgi_script_name;
	}
	
    location ~ /\.ht {
		deny all;
    }
}
